<!--  Task: @Aryan Patel 
https://jsonplaceholder.typicode.com/posts/1
Fetch a post details from the public API and display each post's title and body on the page by using - 
Callback 
Promise 
Async/Await
Create three buttons for all these methods like load users by callback, promise and async await
Create one reset button to reset the data -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FETCH DETAILS FROM API</title>
</head>
<style>
    .bg-black{
        background-color: #212121;
        color: #fff;
        text-align: center;
    }
</style>
<body class = 'bg-black'>
    <h1>Details from public API :</h1>
    <ul class="content"></ul>
    <button id="callbackBtn">Callback</button>
    <button id="promiseBtn">Promise</button>
    <button id="asyncAwaitBtn">async/await</button>
    <button id="rstBtn">Reset</button>
</body>
<script>
    
    //DOM button created
    let rstBtn = document.querySelector('#rstBtn')
    let callBackBtn = document.querySelector('#callbackBtn')
    let promiseBtn = document.querySelector('#promiseBtn')
    let asycnAwaitBtn = document.querySelector('#asyncAwaitBtn')

    //fetch data by Call back function :

    function fetchApiByCallback(callback){
        fetch('https://jsonplaceholder.typicode.com/posts/1')
        .then(response => response.json())
        .then(data => {
            callback(data)
        })
    }
 
    function callback(data){
        console.log(data);
        
        const div = document.createElement('div')
        div.textContent = `Title: ${data.title}\nBody: ${data.body}`
        
        document.body.appendChild(div)
    }

    callBackBtn.addEventListener("click", () => {
        fetchApiByCallback(callback)
    })

    

    //fetch data by promise

    function fetchDataByPromise() {
    return new Promise((resolve, reject) => {
        fetch('https://jsonplaceholder.typicode.com/posts/1')
            .then(response => resolve(response))
            .catch(error => reject(error));
    });
    }

    
    

    promiseBtn.addEventListener("click", () => {
        fetchDataByPromise()
        .then(data => (data.json()))
        .then()
        .then((data) => {
        const div = document.createElement('div')
        div.innerHTML = `Title: ${data.title}\nBody: ${data.body}`
        document.body.appendChild(div)
        })
        .catch(error => console.log(error))
        .finally( () => console.log("API data fetched ! ") )
    })




</script>
</html>